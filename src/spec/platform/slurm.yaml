# @package _global_

defaults:
  - override /hydra/launcher: submitit_slurm
  - _self_

hydra:
  launcher:
    constraint: "fma" # Require AVX2 support (all and only AVX2 nodes support FMA)
    cpus_per_task: 28 # Fit both cnode3xx and cnode4xx (~half of Xeon Gold)
    partition: compute # Allocate CPU-only nodes
    timeout_min: 1440 # Timeout after one day
    setup:
      - Xvfb :97 -screen 0 1024x768x24 -ac +extension GLX +render -noreset -nolisten tcp -nolisten unix &
      - export DISPLAY=:97

training:
  cuda: False
